(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1011:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(6),o=n(8),c=n(5),l=n(147),u=n(10),s=n(16),p=n.n(s),r=n(110);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){h(t,e,n[e])})}return t}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=v(n);return e=r?(e=v(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==f(e)&&"function"!=typeof e?y(t):e}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=p.a._debounce,O=[{label:"5 secondes",shortLabel:"5 sec",value:5,id:0},{label:"10 secondes",shortLabel:"10 sec",value:10,id:1},{label:"20 secondes",shortLabel:"20 sec",value:20,id:2},{label:"30 secondes",shortLabel:"30 sec",value:30,id:3},{label:"45 secondes",shortLabel:"45 sec",value:45,id:4},{label:"1 minute",shortLabel:"1 min",value:60,id:5},{label:"2 minutes",shortLabel:"2 min",value:120,id:6},{label:"5 minutes",shortLabel:"5 min",value:300,id:7}],E=[{label:"rechargement de la page",shortLabel:"5 min",value:5,id:0},{label:"5 minutes",shortLabel:"5 min",value:300,id:1},{label:"15 minutes",shortLabel:"15 min",value:900,id:2},{label:"30 minutes",shortLabel:"30 min",value:1800,id:3},{label:"1 heures",shortLabel:"1 h",value:3600,id:4},{label:"6 heures",shortLabel:"6 h",value:21600,id:5},{label:"12 heures",shortLabel:"12 h",value:43200,id:6},{label:"1 jour",shortLabel:"24 h",value:86400,id:7},{label:"2 jours",shortLabel:"48 h",value:172800,id:8}],s=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,i.a.Component);var e,t,n,r=g(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),h(y(t=r.call(this,e)),"updateTime",w(function(e){t.props.setModalTriggerOn(d({},t.props.modalInEdit.triggerOn,{delay:e}))},500)),h(y(t),"updateRepeatTime",w(function(e){t.props.setModalTriggerOn(d({},t.props.modalInEdit.triggerOn,{repeat:e}))},500)),t.state={delay:t.props.modalInEdit&&t.props.modalInEdit.triggerOn&&t.props.modalInEdit.triggerOn.delay||0,repeat:t.props.modalInEdit&&t.props.modalInEdit.triggerOn&&t.props.modalInEdit.triggerOn.repeat||0},t}return e=a,(t=[{key:"handleChangeTime",value:function(e){var t=this;this.setState({delay:O[e].value},function(){t.updateTime(t.state.delay)})}},{key:"formatDate",value:function(e){var t=e.split("T"),n=t[0].match(/\d+/g),r=n[0],e=n[1],n=n[2],t=t[1].match(/\d+/g);return n+"/"+e+"/"+r+" "+t[0]+":"+t[1]}},{key:"handleChangeRepeatTime",value:function(e){var t=this;this.setState({repeat:E[e].value},function(){t.updateRepeatTime(t.state.repeat)})}},{key:"render",value:function(){var n=this,e=this.props.modalInEdit;if(!e)return null;var r=e.triggerOn,t=this.state,a=t.delay,o=t.repeat,e=O.find(function(e){return e.value==a})||O[0],t=E.find(function(e){return e.value==o})||E[6];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"we-h5 we-text-white we-pt-4 we-pb-2"},"Comment déclencher la popup"),i.a.createElement(c.Alert,{variant:"info"},"Ouverture ".concat(r.activeTrigger&&r.activeTrigger.includes("delay")?"après "+e.label:"immediate","."),i.a.createElement("br",null),r.activeTrigger&&r.activeTrigger.includes("repeat")?"Réapparition après ".concat(t.label,"."):"Pas de réapparition."," ",i.a.createElement("br",null),r.activeTrigger&&r.activeTrigger.includes("expiration")&&"Active jusqu'au ".concat(this.formatDate(r.expiration))),r&&r.expiration&&new Date(r.expiration)<new Date&&i.a.createElement(c.Alert,{variant:"danger"},"Votre popup a atteint sa date d'expiration. Modifier la si vous souhaitez la réactiver"),i.a.createElement("div",{className:"we-py-2"},i.a.createElement(l.a,{label:"Déclencher après un certain delai",checked:r.activeTrigger&&r.activeTrigger.includes("delay")||!1,handleChange:function(){var e=d({},r);r.activeTrigger.includes("delay")?delete e.delay:e.delay=O[0].value,n.props.setModalTriggerOn(d({},e,{activeTrigger:Object(u.A)(r.activeTrigger,"delay")}))}})),r.activeTrigger&&r.activeTrigger.includes("delay")&&i.a.createElement("div",{className:" we-py-2"},i.a.createElement("div",{className:"we-text-white"},i.a.createElement("label",{className:"label-range-padding"},e.label),i.a.createElement("input",{type:"range",className:"we-form-range",min:0,value:e.id,step:1,max:O.length-1,onChange:function(e){return n.handleChangeTime(e.target.value)}}))),i.a.createElement("div",{className:"we-py-2"},i.a.createElement(l.a,{label:"Répéter la popup",checked:r.activeTrigger&&r.activeTrigger.includes("repeat")||!1,handleChange:function(){var e=d({},r);r.activeTrigger.includes("repeat")?delete e.repeat:e.repeat=E[6].value,n.props.setModalTriggerOn(d({},e,{activeTrigger:Object(u.A)(r.activeTrigger,"repeat")}))}})),r.activeTrigger&&r.activeTrigger.includes("repeat")&&i.a.createElement("div",{className:" we-py-2"},i.a.createElement("div",{className:"we-text-white"},i.a.createElement("label",{className:"label-range-padding"},t.label),i.a.createElement("input",{type:"range",className:"we-form-range",min:0,value:t.id,step:1,max:E.length-1,onChange:function(e){return n.handleChangeRepeatTime(e.target.value)},name:"formCtrlSelectPaddingBottom"}))),i.a.createElement("div",{className:"we-py-2"},i.a.createElement(l.a,{label:"Désactiver la popup appartir d'une date",checked:r.activeTrigger&&r.activeTrigger.includes("expiration")||!1,handleChange:function(){var e=d({},r);r.activeTrigger.includes("expiration")?delete e.expiration:e.expiration="".concat((new Date).getFullYear()+1,"-01-01T00:00:00"),n.props.setModalTriggerOn(d({},e,{activeTrigger:Object(u.A)(r.activeTrigger,"expiration")}))}})),r.activeTrigger&&r.activeTrigger.includes("expiration")&&[i.a.createElement("div",{className:" we-py-2"},i.a.createElement("input",{type:"date",className:"we-form-control",value:r.expiration.split("T")[0],onChange:function(e){var t=r.expiration.split("T");t[0]=e.target.value,n.props.setModalTriggerOn(d({},r,{expiration:t.join("T")}))},name:"formCtrlSelectPaddingBottom"})),i.a.createElement("div",{className:" we-py-2"},i.a.createElement("input",{type:"time",className:"we-form-control",value:r.expiration.split("T")[1],onChange:function(e){var t=r.expiration.split("T");t[1]=e.target.value+":00",n.props.setModalTriggerOn(d({},r,{expiration:t.join("T")}))},name:"formCtrlSelectPaddingBottom"}))])}}])&&m(e.prototype,t),n&&m(e,n),a}(),T=Object(a.connect)(function(e){return{modalInEdit:Object(o.H)(e)}},{setModalTriggerOn:r.f})(s),p=n(206),j=n.n(p);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?Object(arguments[e]):{},t=Object.keys(a);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})):t).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e})}return r}function x(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_(n);return e=r?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==P(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,i.a.Component);var e,t,n,r=N(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,e)}return e=a,(t=[{key:"handleSelectTriggerWhere",value:function(e,t){var n=this.props.modalInEdit.triggerWhere,r=n.enable,a=n.disable,o=a&&a.findIndex(function(e){return e==t.id}),l=r&&r.findIndex(function(e){return e==t.id}),i=o&&-1===o||l&&-1===l?"enable"===e?{enable:[].concat(x(r),[t.id])}:{disable:[].concat(x(a),[t.id])}:((i=x("enable"===e?r:a)).splice("enable"===e?l:o,1),"enable"===e?{enable:i}:{disable:i});this.props.setModalTriggerWhere(S({},n,i))}},{key:"render",value:function(){var t=this,e=this.props.modalInEdit;if(!e)return null;var n=e.triggerWhere,r=n.enable,e=n.disable;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"we-h5 we-text-white we-pt-4 we-pb-2"},"Où déclencher la popup"),!n.allPage&&(!n.enable||0===n.enable.length)&&i.a.createElement(c.Alert,{variant:"danger"},"Attention votre popup n'est activée sur aucune page"),i.a.createElement("div",{className:"we-py-1"},i.a.createElement(l.a,{label:"Afficher la popup sur tout vos pages",checked:!!n.allPage,handleChange:function(){var e=S({},n);n.allPage?(delete e.allPage,e.enable=[]):(delete e.enable,e.allPage=!0),t.props.setModalTriggerWhere(e)}})),n.allPage&&i.a.createElement("div",{className:"we-py-1"},i.a.createElement(l.a,{label:"Désactiver la popup sur certaines pages",checked:!!n.disable,handleChange:function(){var e=S({},n);n.disable?delete e.disable:e.disable=[],t.props.setModalTriggerWhere(e)}})),(n.allPage&&!!n.disable||!n.allPage)&&i.a.createElement("div",{className:"we-py-2"},i.a.createElement("div",{className:"we-p we-text-white we-py-2"},"Sélectionner les pages à"," ",n.allPage?"désactiver":"activer"),i.a.createElement(j.a,{siteId:this.props.siteId,shopId:this.props.shopId,blogId:this.props.blogId,itemClassname:"we-text-white",selectedItemClassname:"we-bg-secondary",unSelectedItemClassname:"we-bg-dark",onClick:function(e){t.handleSelectTriggerWhere(n.allPage?"disable":"enable",e)},canMultipleValue:!0,removeLink:function(){return t.removeLink()},values:n.allPage?e:r,excludeList:["Fichier"]})))}}])&&I(e.prototype,t),n&&I(e,n),a}(),R=Object(a.connect)(function(e){return{modalInEdit:Object(o.H)(e),siteId:Object(o.k)(e).id,shopId:Object(o.N)(e),blogId:Object(o.d)(e)}},{setModalTriggerWhere:r.g})(s),M=n(41),A=n(38),p=n(9),B=n(428),s=n(23);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=F(n);return e=r?(e=F(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==L(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=[{label:"Petit",value:"sm",id:1},{label:"Moyenne",value:null,id:2},{label:"Grande",value:"lg",id:3}],n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(a,i.a.Component);var e,t,n,r=W(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,e)}return e=a,(t=[{key:"handleBg",value:function(e,t){this.props.wantUpdateBackgroundSectionAction(),this.props.setCurrentBgInStore(t),this.props.setBackgroundIntent(e)}},{key:"render",value:function(){var t=this,e=this.props.modalInEdit;if(!e)return null;var n=e.title,r=e.size,a=e.centered,o=e.bg,l=e.hideHeader;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"we-py-2"},i.a.createElement(M.a,{onClick:function(){t.props.setModalHideHeader(!l)}},l?"Afficher l'entete":"Masquer l'entete")),!l&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"we-h5 we-text-white we-py-2"}," Titre"),i.a.createElement("div",{className:" we-pb-4"},i.a.createElement(c.Button,{className:"we-w-100",variant:"secondary",onClick:function(){t.props.setTextIntent("modalTitle",n),t.props.wantUpdateTextAction()}},i.a.createElement("p",{className:"we-p-0 we-m-0 we-text-start we-text-truncate",dangerouslySetInnerHTML:{__html:Object(u.o)(n)}})))),i.a.createElement("div",{className:"we-py-2"},i.a.createElement(A.a,{label:"Tailles",mapValues:U,value:r,handleClick:function(e){t.props.setModalSize(e.value)}})),i.a.createElement("div",{className:"we-py-2"},i.a.createElement(M.a,{onClick:function(){t.props.setModalCentered(!a)}},a?"Centré":"Non centré")),i.a.createElement("div",{className:"we-p we-text-white we-py-2"}," Fond"),i.a.createElement("div",{className:" we-py-2"},i.a.createElement(B.a,{onClick:function(){return t.handleBg("modal",o)},bg:o,label:"Entete"})))}}])&&D(e.prototype,t),n&&D(e,n),a}(),z=Object(a.connect)(function(e){return{modalInEdit:Object(o.H)(e)}},{setModalCentered:r.a,setModalSize:r.d,setTextIntent:p.p,wantUpdateTextAction:p.K,wantUpdateBackgroundSectionAction:p.D,setCurrentBgInStore:s.f,setBackgroundIntent:s.e,setModalHideHeader:r.b})(n);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=K(n);return e=r?(e=K(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==V(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,i.a.Component);var e,t,n,r=G(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,e)}return e=a,(t=[{key:"render",value:function(){return this.props.modalInEdit?i.a.createElement("div",{className:"we-bg-dark "},i.a.createElement(z,null),i.a.createElement(T,null),i.a.createElement(R,null)):null}}])&&q(e.prototype,t),n&&q(e,n),a}();t.default=Object(a.connect)(function(e){return{modalInEdit:Object(o.H)(e)}},{})(n)},428:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var t=n(0),r=n.n(t),a=n(5),t=n(58),o=n.n(t),l=n(10),i=n(51);function c(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?Object(arguments[e]):{},t=Object.keys(a);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})):t).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e})}return r}function u(e){var t=c({},e.bg);return r.a.createElement("div",{style:{cursor:"pointer"},className:"we-my-2"},r.a.createElement("div",{className:"we-d-flex we-flex-row"},r.a.createElement(i.a,null,r.a.createElement(o.a,{card:{bg:Object(l.e)(t)}},r.a.createElement("div",{style:{width:"90%",height:50,margin:"10px auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},onClick:function(){return e.onClick()}},r.a.createElement(a.Button,{variant:"secondary"},e.label))))))}}}]);