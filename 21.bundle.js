(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{973:function(e,t,a){"use strict";a.r(t);var n=a(0),y=a.n(n),S=a(5),C=a(665),c=a(749),l=a(29),n=a(9),_=a(70),N=a(93),r=a(7),i=a(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,a,n,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void a(e)}s.done?t(c):Promise.resolve(c).then(n,r)}function I(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(a);(n="function"==typeof Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})):n).forEach(function(e){f(t,e,a[e])})}return t}function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(a){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(a);return e=n?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?m(t):e}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function P(e){var t=e.showModal,a=e.hideModal,n=e.confirmModal,r=e.id,i=e.type;return e.message,y.a.createElement(S.Modal,{centered:!0,dialogClassName:" small-modal-w we-m-auto",show:t,onHide:a},y.a.createElement(S.Modal.Header,{closeButton:!0},y.a.createElement(S.Modal.Title,null," Attention !")),y.a.createElement(S.Modal.Body,null,y.a.createElement("div",{className:"we-container we-pt-4"},"Voulez-vous vraiment supprimer ce ",i,"?")),y.a.createElement(S.Modal.Footer,null,y.a.createElement(S.Button,{variant:"secondary",onClick:a,size:"sm"},"Annuler"),y.a.createElement(S.Button,{variant:"danger",size:"sm",onClick:function(){return n(i,r)}},"Supprimer")))}function w(e,t){var a=t.removedIndex,n=t.addedIndex,t=t.payload;return null===a&&null===n||(e=h(e),null!==a&&(t=e.splice(a,1)[0]),null!==n&&e.splice(n,0,t)),e}function b(){var e=Math.floor(10*Math.random());return E[e]}var v={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:localStorage.getItem("currentUser")?"Bearer "+localStorage.getItem("currentUser"):""}},E=["azure","beige","bisque","blanchedalmond","burlywood","cornsilk","gainsboro","ghostwhite","ivory","khaki"],a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,y.a.Component);var e,t,a,n=u(r);function r(){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),f(m(s=n.call(this)),"generateItems",function(e,t){var a=[],n=s.state.totalPages,r=0;return Array.isArray(e)&&e.forEach(function(e){e.is_cours&&n++,a.push(t(r,e)),r++}),0<n&&s.setState({totalPages:n}),a}),f(m(s),"compareOrdre",function(e,t){return e.metadata.ordre<t.metadata.ordre?-1:e.metadata.ordre>t.metadata.ordre?1:0}),f(m(s),"buildTreeview",function(e){var t=e.find(function(e){return 0==e.is_cours&&0==e.is_chapitre}),e=t.id,t={type:"container",props:{orientation:"vertical"},children:s.generateItems(t.children,function(e,t){return{id:t.id,type:"container",metadata:t,props:{orientation:"vertical",className:"we-card-container"},children:s.generateItems(t.children,function(e,t){return{type:"draggable",id:t.id,metadata:t,props:{className:"we-card ",style:{backgroundColor:b()}}}}).sort(s.compareOrdre)}}).sort(s.compareOrdre)};s.setState({scene:I({},t),treeRootId:e,isLoading:!1})}),f(m(s),"onColumnDrop",function(e){var t=I({},s.state.scene);t.children=w(t.children,e);var a=[],n=0;t.children.forEach(function(e){a.push({id:e.id,rank:n}),n++}),s.saveOrder(a,function(){s.setState({scene:t,isLoading:!1}),s.refreshSommaire()})}),f(m(s),"onCardDrop",function(t,e){var a,n,r,i,o;null===e.removedIndex&&null===e.addedIndex||(o=(a=I({},s.state.scene)).children.filter(function(e){return e.id===t})[0],n=a.children.indexOf(o),(o=Object.assign({},o)).children=w(o.children,e),a.children.splice(n,1,o),r=[],i=0,o.children.forEach(function(e){r.push({id:e.id,rank:i}),i++}),o={title:s.state.currentPayload.metadata.title,isFree:s.state.currentPayload.metadata.isFree,parent:t},s.setState({isLoading:!0}),Object(c.a)().apiFormationsSlugCursusitemsCursusPatchPut(o,window.__METADATA.product_props.formationId,s.state.currentPayload.metadata.id,v).call().then(function(e){s.saveOrder(r,function(){s.setState({scene:I({},a),isLoading:!1}),s.refreshSommaire()})}))}),f(m(s),"resetCurrentItem",function(){s.setState({currentItemInEdit:{metadata:{id:0}}})}),f(m(s),"edit",function(e){e==s.state.currentItemInEdit?s.resetCurrentItem():s.setState({currentItemInEdit:e})}),f(m(s),"setVisibility",function(n){var e;s.state.isLoading||(e={visible:!n.metadata.visible},s.setState({isLoading:!0}),Object(c.a)().apiFormationsSlugCursusitemsCursusPatchPut(e,window.__METADATA.product_props.formationId,n.metadata.id,v).call().then(function(t){var a,e;n.metadata.is_cours?(a=Object.assign({},s.state.scene)).children.forEach(function(e){e=e.children.find(function(e){return e.metadata.id===n.metadata.id});e&&(e.metadata.visible=t.visible,s.setState({isLoading:!1,scene:a}),s.refreshSommaire())}):((e=Object.assign({},s.state.scene)).children.find(function(e){return e.metadata.id===n.metadata.id}).metadata.visible=t.visible,s.setState({isLoading:!1,scene:e}),s.refreshSommaire())}))}),f(m(s),"addChapitre",function(){var e;s.state.isLoading||(e={title:"Mon Nouveau chapitre",isCours:!1,isChapitre:!0,isFree:!1,pageId:0,duration:0,visible:!0,ordre:1e3,parent:s.state.treeRootId.toString()},s.setState({isLoading:!0}),Object(c.a)().apiFormationsSlugCursusitemsPost(e,window.__METADATA.product_props.formationId,v).call().then(function(e){var t={id:e.id,type:"we-container",metadata:e,props:{orientation:"vertical",className:"we-card-container"},children:[]},e=Object.assign({},s.state.scene);e.children.unshift(t);s.setState({isLoading:!1,scene:e}),s.refreshSommaire()}))}),f(m(s),"deleteChapitre",function(){var e=s.state.chapitreToDelete,t=e.chapitre,a=e.index;Object(c.a)().apiFormationsSlugCursusitemsCursusDelete(window.__METADATA.product_props.formationId,t.metadata.id,v).call().then(function(e){var t=Object.assign({},s.state.scene);t.children.splice(a,1),s.setState({isLoading:!1,scene:t,displayConfirmationModal:!1}),s.refreshSommaire()})}),f(m(s),"deleteIntent",function(e,t,a){s.setState({itemToDelete:{item:e,chapitre:t,index:a},displayConfirmationModal:!0},function(){})}),f(m(s),"deleteChapitreIntent",function(e,t){s.setState({chapitreToDelete:{chapitre:e,index:t},displayConfirmationModal:!0},function(){})}),f(m(s),"goToMainPage",function(){location.href="/editor/pages/formation/"+window.__METADATA.product_props.id}),f(m(s),"goToPage",function(e){e.metadata.page_id<3?s.fixCours(e):s.props.history.push("/editor/pages/cursus/"+e.metadata.page_id)}),f(m(s),"createCursusPage",function(e){return{nom:e.title,url:" formations/"+window.__METADATA.product_props.id+"/cursus/"+e.id,editor:"10",is_home:!1,is_error:!1,module:"5",module_resource:window.__METADATA.product_props.id,module_page_type:"cursus",is_service:!1}}),f(m(s),"fixCours",function(n){var e,t;s.state.isLoading||(s.setState({isLoading:!0}),e=s.props.currentSiteInEdit.id,t=s.createCursusPage(n.metadata),Object(l.h)().apiSitesSitePagesPost(t,e.toString(),v).call().then(function(a){var e={title:n.metadata.title,pageId:a.id};Object(c.a)().apiFormationsSlugCursusitemsCursusPatchPut(e,window.__METADATA.product_props.formationId,n.metadata.id.toString(),v).call().then(function(e){e=I({},e);e.page_id=a.id;e.id,b();var t=Object.assign({},s.state.scene);t.children.forEach(function(e){e=e.children.find(function(e){return e.metadata.id===n.metadata.id});e&&(e.metadata.page_id=a.id,s.setState({isLoading:!1,scene:I({},t)},function(){s.resetCurrentItem(),s.refreshSommaire()}))})})}))}),f(m(s),"addCours",function(o){var e;s.state.isLoading||(e={title:"Mon Nouveau cours "+(s.state.totalPages+1),isCours:!0,isChapitre:!1,isFree:!1,pageId:0,duration:0,visible:!1,ordre:1e3,parent:o.metadata.id},s.setState({isLoading:!0}),Object(c.a)().apiFormationsSlugCursusitemsPost(e,window.__METADATA.product_props.formationId,v).call().then(function(i){var e=s.props.currentSiteInEdit.id,t=s.createCursusPage(i);Object(l.h)().apiSitesSitePagesPost(t,e.toString(),v).call().then(function(r){var e={title:i.title,pageId:r.id};Object(c.a)().apiFormationsSlugCursusitemsCursusPatchPut(e,window.__METADATA.product_props.formationId,i.id.toString(),v).call().then(function(e){var t=I({},i);t.page_id=r.id;var a={type:"draggable",id:i.id,metadata:t,props:{className:"we-card",style:{backgroundColor:b()}},data:"test"},n=Object.assign({},s.state.scene),t=n.children.filter(function(e){return e.id===o.id})[0];Object.assign({},t).children.push(a),s.setState({totalPages:s.state.totalPages+1,scene:n,isLoading:!1}),s.refreshSommaire()})})}))}),f(m(s),"dragStart",function(e){s.setState({isLoading:!0,currentPayload:e.payload})}),f(m(s),"dragEnd",function(e){}),f(m(s),"saveOrder",function(e,t){Object(c.a)().apiFormationsSlugCursusitemOrderPut(e,window.__METADATA.product_props.formationId,v).call().then(function(e){t()})}),f(m(s),"saveCours",function(n,e,t){var a;s.state.isLoading||(a={title:n.metadata.title,duration:n.metadata.duration,visible:n.metadata.visible,isCours:!0},s.setState({isLoading:!0}),Object(c.a)().apiFormationsSlugCursusitemsCursusPatchPut(a,window.__METADATA.product_props.formationId,n.metadata.id,v).call().then(function(t){var a=Object.assign({},s.state.scene);a.children.forEach(function(e){e=e.children.find(function(e){return e.metadata.id===n.metadata.id});e&&(e.metadata=t,s.setState({isLoading:!1,scene:a},function(){s.refreshSommaire(),s.resetCurrentItem()}))})}))}),f(m(s),"saveChapitre",function(n){var e;s.state.isLoading||(e={title:n.metadata.title,duration:n.metadata.duration,visible:n.metadata.visible,isChapitre:n.metadata.isChapitre},s.setState({isLoading:!0}),Object(c.a)().apiFormationsSlugCursusitemsCursusPatchPut(e,window.__METADATA.product_props.formationId,n.metadata.id,v).call().then(function(e){var t=Object.assign({},s.state.scene),a=t.children.map(function(e){return e.id===n.id?n:e});s.setState({scene:{scene:t,children:a},forcedReloadCount:s.state.forcedReloadCount+1},function(){s.setState({isLoading:!1,currentItemInEdit:{metadata:{id:0}}}),s.refreshSommaire()})}))}),f(m(s),"hasDraft",function(){}),f(m(s),"getCardPayload",function(t){return function(e){return s.state.scene.children.filter(function(e){return e.id===t})[0].children[e]}}),s.state={isCursusLoaded:!1,currentItemInEdit:{metadata:{id:0}},currentPayload:{},itemToDelete:{item:{},chapitre:{},index:0},chapitreToDelete:{chapitre:{},index:0},treeRootId:0,productId:0,isLoading:!1,totalPages:0,maxPages:100,formationId:"0",produit:{titre:""},cursusTree:[],displayConfirmationModal:!1,forcedReloadCount:0,sectionSommaireId:0,scene:{type:"container",props:{orientation:"vertical"},children:[]}},s.dragStart=s.dragStart.bind(m(s)),s.deleteCursus=s.deleteCursus.bind(m(s)),s}return e=r,(t=[{key:"refreshSommaire",value:function(){0<this.state.sectionSommaireId&&this.props.resetSommaire(this.state.sectionSommaireId)}},{key:"componentDidUpdate",value:function(){var t=this;this.state.isCursusLoaded||window.__METADATA&&window.__METADATA.product_props&&(this.state.isLoading||(this.setState({isLoading:!0}),Object(c.a)().publicFormationsSlugCursusitemsGet(window.__METADATA.product_props.formationId,1,v).call().then(function(e){t.setState({isCursusLoaded:!0}),e.items&&1==e.items.length&&(t.setState({isLoading:!1}),t.buildTreeview(e.items)),"formation"!==t.props.currentPageInEdit.module_page_type||(e=t.props.sections.find(function(e){return"PageFormationRcpt"===e.content.componentName}))&&t.setState({sectionSommaireId:e.id})})))}},{key:"componentDidMount",value:function(){var t=this;this.state.isCursusLoaded||window.__METADATA&&window.__METADATA.product_props&&Object(c.a)().publicFormationsSlugCursusitemsGet(window.__METADATA.product_props.formationId,1,v).call().then(function(e){t.setState({isCursusLoaded:!0}),e.items&&1==e.items.length&&(t.buildTreeview(e.items),"formation"!==t.props.currentPageInEdit.module_page_type||(e=t.props.sections.find(function(e){return"PageFormationRcpt"===e.content.componentName}))&&t.setState({sectionSommaireId:e.id}))})}},{key:"deleteCursus",value:function(){var e,t,a,n,r,i=this;this.state.isLoading||(this.setState({isLoading:!0}),this.state.chapitreToDelete&&void 0!==this.state.chapitreToDelete.chapitre.metadata?this.deleteChapitre():(t=(e=this.state.itemToDelete).item,a=e.chapitre,n=e.index,r=0<t.metadata.page_id?t.metadata.page_id:t.metadata.pageId,Object(c.a)().apiFormationsSlugCursusitemsCursusDelete(window.__METADATA.product_props.formationId,t.metadata.id,v).call().then(function(e){var t;r?Object(l.f)().apiPagesPageDelete(r,v).call().then(function(e){var t=Object.assign({},i.state.scene);t.children.filter(function(e){return e.id===a.id})[0].children.splice(n,1),i.setState({totalPages:i.state.totalPages-1,scene:t,isLoading:!1,displayConfirmationModal:!1}),i.refreshSommaire()}).catch(function(e){}):(console.error("No Page Founded"),(t=Object.assign({},i.state.scene)).children.filter(function(e){return e.id===a.id})[0].children.splice(n,1),i.setState({totalPages:i.state.totalPages-1,scene:t,isLoading:!1,displayConfirmationModal:!1}),i.refreshSommaire())})))}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentItemInEdit,r=t.totalPages,i=t.maxPages,a=t.scene,o=this.props.currentPageInEdit&&this.props.currentPageInEdit.id,s=this.dragStart,c=this.dragEnd,l=this.onCardDrop,d=(this.onColumnDrop,this.setVisibility),u=(this.deleteChapitre,this.deleteChapitreIntent),m=this.deleteIntent,p=this.getCardPayload,f=this.edit,h=this.goToPage,g=(this.goToMainPage,this.addCours),w=this.addChapitre,t=this.deleteCursus,b=this.resetCurrentItem,v=this.saveChapitre,E=this.saveCours;return y.a.createElement("div",{className:"we-pt-2"},y.a.createElement("hr",null),y.a.createElement(P,{type:this.state.chapitreToDelete&&void 0!==this.state.chapitreToDelete.chapitre.metadata?"chapitre":"cours",showModal:this.state.displayConfirmationModal,confirmModal:t,hideModal:function(){e.setState({displayConfirmationModal:!1})},message:"Delete Message"}),0<n.metadata.id&&y.a.createElement("div",{className:"we-row"},y.a.createElement("span",{className:"we-h5 we-text-white"},y.a.createElement("i",{className:"fas fa-arrow-left ",onClick:function(){b()}}," ")," "," Retour au cursus"),y.a.createElement("div",{className:"we-col-md-12"},y.a.createElement("div",{className:"we-card we-my-3 we-text-white"},y.a.createElement("div",{className:"we-card-body"},y.a.createElement("div",{className:"card-column-header"},y.a.createElement("div",{className:"we-row"},y.a.createElement("div",{className:"we-col-12"},y.a.createElement(_.c,{initialValues:{title:n.metadata.title,duration:n.metadata.duration},validationSchema:N.b().shape({title:N.c().min(3,"Trop court!").max(500,"Trop long!").required("Obligatoire"),duration:N.a().required("Obligatoire").integer("Vous devez renseigner un nombre")}),onSubmit:function(){var s,t=(s=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n.metadata.is_cours?E:v)(I({},n,{metadata:I({},n.metadata,t)}));case 1:case"end":return e.stop()}},e)}),function(){var e=this,o=arguments;return new Promise(function(t,a){var n=s.apply(e,o);function r(e){A(n,t,a,r,i,"next",e)}function i(e){A(n,t,a,r,i,"throw",e)}r(void 0)})});return function(e){return t.apply(this,arguments)}}()},function(e){var t=e.errors,e=e.touched;return y.a.createElement(_.b,null,y.a.createElement(S.FormGroup,null,y.a.createElement(S.Col,{md:"12"},y.a.createElement(S.FormLabel,{htmlFor:"title"},"Titre"),y.a.createElement(_.a,{name:"title",type:"text",placeholder:"Titre",className:"we-form-control",invalid:t.title&&e.title}))),y.a.createElement("span",null,y.a.createElement("small",null,t.title)),n.metadata.is_cours&&y.a.createElement(S.FormGroup,null,y.a.createElement("br",null),y.a.createElement(S.FormLabel,{htmlFor:"title"},"Durée en min"),y.a.createElement(_.a,{name:"duration",type:"number",placeholder:"90",className:"we-form-control",invalid:t.duration&&e.duration}),t.duration),y.a.createElement("br",null),y.a.createElement(S.FormGroup,null,y.a.createElement(S.Col,{md:"12"},y.a.createElement(S.Button,{color:"primary",type:"submit",className:"we-btn-block"},"enregistrer"))))})))))))),0===n.metadata.id&&y.a.createElement("div",null,y.a.createElement(S.Button,{className:"we-btn-block",onClick:function(){return w()}},this.state.isLoading&&y.a.createElement("i",{className:"fa fa-spinner fa-spin"}),!this.state.isLoading&&y.a.createElement("span",null,y.a.createElement("i",{className:"fas fa-plus"})," Ajouter un chapitre")),y.a.createElement(C.Container,{orientation:"vertical",onDrop:this.onColumnDrop,dragHandleSelector:".column-drag-handle"},a.children.map(function(a,e){return y.a.createElement(C.Draggable,{key:e},y.a.createElement("div",{className:"we-row"},y.a.createElement("div",{className:"we-col-md-12"},y.a.createElement("div",{className:"we-card we-my-3 we-text-white"},y.a.createElement("div",{className:"we-card-body"},y.a.createElement("div",{className:a.props.className},y.a.createElement("div",{className:"card-column-header"},y.a.createElement("div",{className:"we-row"},y.a.createElement("div",{className:"we-col-12"},a.metadata.id!==n.metadata.id&&y.a.createElement("div",{style:{display:"inlineBlock"}},y.a.createElement("h6",{className:"we-card-title"},0===n.metadata.id&&y.a.createElement("span",{className:"column-drag-handle",style:{cursor:"grab"}},y.a.createElement("i",{className:"fal fa-arrows-alt"}))," ",a.metadata.title,y.a.createElement("div",{className:"we-text-end"},y.a.createElement(S.Button,{variant:"secondary",onClick:function(){return f(a)},title:"éditer le chapitre",className:"we-btn we-btn-sm "},y.a.createElement("i",{className:"fal fa-pencil-alt"})),y.a.createElement(S.Button,{variant:"secondary",onClick:function(){return d(a)},title:"visibilité du chapitre",className:"we-btn we-btn-sm "},a.metadata.visible&&y.a.createElement("i",{className:"fal fa-eye"}),!a.metadata.visible&&y.a.createElement("i",{className:"far fa-eye-slash"})),0===a.children.length&&y.a.createElement(S.Button,{variant:"secondary",onClick:function(){return u(a,e)},className:"we-btn we-btn-sm "},y.a.createElement("i",{className:"fal fa-trash-alt"}))))),a.metadata.id===n.metadata.id&&y.a.createElement("div",null)),y.a.createElement("div",{className:"we-col-3 we-text-right we-mt-0 we-mb-1"}))),y.a.createElement(C.Container,{groupName:"col",onDrop:function(e){return l(a.id,e)},getChildPayload:p(a.id),dragClass:"card-ghost",dropClass:"card-ghost-drop",onDragStart:function(e){return s(e)},dragHandleSelector:".cours-drag-handle",onDragEnd:function(e){return c(e)}},a.children.map(function(e,t){return y.a.createElement(C.Draggable,{key:t},y.a.createElement("div",{className:e.props.className},y.a.createElement("div",{className:"we-row"},y.a.createElement("div",{className:"we-col-12"},y.a.createElement("div",{className:"we-row"},y.a.createElement("div",{className:"we-m-0 we-px-4"}),e.metadata.id!==n.metadata.id&&y.a.createElement("div",{className:"we-col-12 we-px-4"},y.a.createElement("h6",{className:"we-card-title",style:{color:e.metadata.page_id===o?"#5757d9":"white"}},0===n.metadata.id&&y.a.createElement("span",{className:"cours-drag-handle",style:{cursor:"grab"}},y.a.createElement("i",{className:"fal fa-arrows-alt"}))," ",e.metadata.title),y.a.createElement("i",{className:"far fa-clock"})," "," ",e.metadata.duration,y.a.createElement("small",null," mn"),y.a.createElement("br",null)),e.metadata.id===n.metadata.id&&y.a.createElement("div",{className:"we-col-11"})),e.metadata.id!==n.metadata.id&&y.a.createElement("div",{className:"we-text-end"},y.a.createElement(S.Button,{variant:"secondary",onClick:function(){return f(e)},title:"éditer le titre et la durée du cours",className:"we-btn we-btn-sm "},y.a.createElement("i",{className:"fal fa-pencil-alt"})),y.a.createElement(S.Button,{variant:"secondary",onClick:function(){return h(e)},title:"modifier le contenu du cours",className:"we-btn we-btn-sm "},y.a.createElement("i",{className:"fal fa-file-alt"})),y.a.createElement(S.Button,{variant:"secondary",title:"permuter la visibilité du cours",onClick:function(){return d(e)},className:"we-btn we-btn-sm "},e.metadata.visible&&y.a.createElement("i",{className:"fal fa-eye"}),!e.metadata.visible&&y.a.createElement("i",{className:"far fa-eye-slash"})),y.a.createElement(S.Button,{variant:"secondary",title:"supprimer le cours",onClick:function(){return m(e,a,t)},className:"we-btn we-btn-sm "},y.a.createElement("i",{className:"fal fa-trash-alt"})),y.a.createElement("hr",null))),y.a.createElement("div",{className:"we-col-2 we-text-right we-mt-0 we-mb-1"}))))}),y.a.createElement("div",{className:"we-row "},r<i&&y.a.createElement("div",{className:"we-col-12"},y.a.createElement(S.Button,{onClick:function(){return g(a)},className:"we-btn we-btn-sm"}," ","+ Ajouter une leçon"," ")),i<=r&&y.a.createElement("div",{className:"we-col-12"},y.a.createElement(S.Button,{className:"we-btn-sm we-disabled"}," ","+ Ajouter une leçon"," "))))))))))}))))}}])&&s(e.prototype,t),a&&s(e,a),r}();t.default=Object(n.connect)(function(e){return{sections:Object(r.F)(e),currentPageInEdit:Object(r.e)(e),currentProductInEdit:Object(r.g)(e),currentSiteInEdit:Object(r.i)(e)}},function(t){return{resetSommaire:function(e){t({type:i.rd,id:e})}}})(a)}}]);