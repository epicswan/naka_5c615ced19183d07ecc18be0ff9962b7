(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{302:function(e,n,r){"use strict";var t=r(0),o=r.n(t),a=(r(79),r(9)),i=r(6),t=r(8),l=r(7);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function u(r){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,n=p(r);return e=t?(e=p(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),n=this,!(e=e)||"object"!==s(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):e}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r=function(){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(a,o.a.Component);var e,n,r,t=u(a);function a(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),t.call(this,e)}return e=a,(n=[{key:"render",value:function(){var e=this,n=this.props.currentPanel;return o.a.createElement("div",{className:"we-bg-dark",style:{zIndex:"inherit",position:"absolute",width:"100%",bottom:60,left:0}},o.a.createElement(i.Nav,{bsPrefix:"we-nav"},o.a.createElement(i.Nav.Item,null,o.a.createElement(i.Nav.Link,{className:n?"":"active",onClick:function(){return e.props.resetSidebarNavigation()}},"Page")),o.a.createElement(i.Nav.Item,null,o.a.createElement(i.Nav.Link,{className:"BaseFunnel"!==n?"":"active",onClick:function(){e.props.resetSidebarNavigation(),e.props.pushSidebarNavigation("BaseFunnel")}},"Funnel")),o.a.createElement(i.Nav.Item,null,o.a.createElement(i.Nav.Link,{className:"BaseLanding"!==n?"":"active",onClick:function(){e.props.resetSidebarNavigation(),e.props.pushSidebarNavigation("BaseLanding")}},"Landing")),o.a.createElement(i.Nav.Item,null,o.a.createElement(i.Nav.Link,{className:"BaseModal"!==n?"":"active",onClick:function(){e.props.resetSidebarNavigation(),e.props.pushSidebarNavigation("BaseModal")}},"Pop-up")),o.a.createElement(i.Nav.Item,null,o.a.createElement(i.Nav.Link,{className:"BaseMail"!==n?"":"active",onClick:function(){e.props.resetSidebarNavigation(),e.props.pushSidebarNavigation("BaseMail")}},"Email"))))}}])&&c(e.prototype,n),r&&c(e,r),a}();n.a=Object(a.connect)(function(e){return{currentPanel:Object(l.f)(e)}},{pushSidebarNavigation:t.h,resetSidebarNavigation:t.i})(r)},662:function(e,n,r){var t=r(663);"string"==typeof t&&(t=[[e.i,t,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(70)(t,a);t.locals&&(e.exports=t.locals)},663:function(e,n,r){(e.exports=r(69)(!1)).push([e.i,'/* Collection default theme */\r\n\r\n.ReactVirtualized__Collection {\r\n}\r\n\r\n.ReactVirtualized__Collection__innerScrollContainer {\r\n}\r\n\r\n/* Grid default theme */\r\n\r\n.ReactVirtualized__Grid {\r\n}\r\n\r\n.ReactVirtualized__Grid__innerScrollContainer {\r\n}\r\n\r\n/* Table default theme */\r\n\r\n.ReactVirtualized__Table {\r\n}\r\n\r\n.ReactVirtualized__Table__Grid {\r\n}\r\n\r\n.ReactVirtualized__Table__headerRow {\r\n  font-weight: 700;\r\n  text-transform: uppercase;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-orient: horizontal;\r\n  -webkit-box-direction: normal;\r\n  -ms-flex-direction: row;\r\n  flex-direction: row;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n}\r\n\r\n.ReactVirtualized__Table__row {\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-orient: horizontal;\r\n  -webkit-box-direction: normal;\r\n  -ms-flex-direction: row;\r\n  flex-direction: row;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n}\r\n\r\n.ReactVirtualized__Table__headerTruncatedText {\r\n  display: inline-block;\r\n  max-width: 100%;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n\r\n.ReactVirtualized__Table__headerColumn,\r\n.ReactVirtualized__Table__rowColumn {\r\n  margin-right: 10px;\r\n  min-width: 0px;\r\n}\r\n\r\n.ReactVirtualized__Table__rowColumn {\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.ReactVirtualized__Table__headerColumn:first-of-type,\r\n.ReactVirtualized__Table__rowColumn:first-of-type {\r\n  margin-left: 10px;\r\n}\r\n\r\n.ReactVirtualized__Table__sortableHeaderColumn {\r\n  cursor: pointer;\r\n}\r\n\r\n.ReactVirtualized__Table__sortableHeaderIconContainer {\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n}\r\n\r\n.ReactVirtualized__Table__sortableHeaderIcon {\r\n  -webkit-box-flex: 0;\r\n  -ms-flex: 0 0 24px;\r\n  flex: 0 0 24px;\r\n  height: 1em;\r\n  width: 1em;\r\n  fill: currentColor;\r\n}\r\n\r\n/* List default theme */\r\n\r\n.ReactVirtualized__List {\r\n}\r\n\r\n.rst__node {\r\n  min-width: 100%;\r\n  white-space: nowrap;\r\n  position: relative;\r\n  text-align: left;\r\n}\r\n\r\n.rst__nodeContent {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n\r\n/* ==========================================================================\r\n   Scaffold\r\n\r\n    Line-overlaid blocks used for showing the tree structure\r\n   ========================================================================== */\r\n\r\n.rst__lineBlock,\r\n.rst__absoluteLineBlock {\r\n  height: 100%;\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.rst__absoluteLineBlock {\r\n  position: absolute;\r\n  top: 0;\r\n}\r\n\r\n.rst__lineHalfHorizontalRight::before,\r\n.rst__lineFullVertical::after,\r\n.rst__lineHalfVerticalTop::after,\r\n.rst__lineHalfVerticalBottom::after {\r\n  position: absolute;\r\n  content: "";\r\n}\r\n\r\n/**\r\n * +-----+\r\n * |     |\r\n * |  +--+\r\n * |     |\r\n * +-----+\r\n */\r\n\r\n.rst__lineHalfHorizontalRight::before {\r\n  height: 1px;\r\n  top: 50%;\r\n  right: 0;\r\n  width: 50%;\r\n}\r\n\r\n/**\r\n * +--+--+\r\n * |  |  |\r\n * |  |  |\r\n * |  |  |\r\n * +--+--+\r\n */\r\n\r\n.rst__lineFullVertical::after,\r\n.rst__lineHalfVerticalTop::after,\r\n.rst__lineHalfVerticalBottom::after {\r\n  width: 1px;\r\n  left: 50%;\r\n  top: 0;\r\n  height: 100%;\r\n}\r\n\r\n/**\r\n * +-----+\r\n * |  |  |\r\n * |  +  |\r\n * |     |\r\n * +-----+\r\n */\r\n\r\n.rst__lineHalfVerticalTop::after {\r\n  height: 50%;\r\n}\r\n\r\n/**\r\n * +-----+\r\n * |     |\r\n * |  +  |\r\n * |  |  |\r\n * +-----+\r\n */\r\n\r\n.rst__lineHalfVerticalBottom::after {\r\n  top: auto;\r\n  bottom: 0;\r\n  height: 50%;\r\n}\r\n\r\n/* Highlight line for pointing to dragged row destination\r\n   ========================================================================== */\r\n\r\n/**\r\n * +--+--+\r\n * |  |  |\r\n * |  |  |\r\n * |  |  |\r\n * +--+--+\r\n */\r\n\r\n.rst__highlightLineVertical {\r\n  z-index: 3;\r\n}\r\n\r\n.rst__highlightLineVertical::before {\r\n  position: absolute;\r\n  content: "";\r\n\r\n  width: 8px;\r\n  margin-left: -4px;\r\n  left: 50%;\r\n  top: 0;\r\n  height: 100%;\r\n}\r\n\r\n@-webkit-keyframes arrow-pulse {\r\n  0% {\r\n    -webkit-transform: translate(0, 0);\r\n    transform: translate(0, 0);\r\n    opacity: 0;\r\n  }\r\n  30% {\r\n    -webkit-transform: translate(0, 300%);\r\n    transform: translate(0, 300%);\r\n    opacity: 1;\r\n  }\r\n  70% {\r\n    -webkit-transform: translate(0, 700%);\r\n    transform: translate(0, 700%);\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    -webkit-transform: translate(0, 1000%);\r\n    transform: translate(0, 1000%);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes arrow-pulse {\r\n  0% {\r\n    -webkit-transform: translate(0, 0);\r\n    transform: translate(0, 0);\r\n    opacity: 0;\r\n  }\r\n  30% {\r\n    -webkit-transform: translate(0, 300%);\r\n    transform: translate(0, 300%);\r\n    opacity: 1;\r\n  }\r\n  70% {\r\n    -webkit-transform: translate(0, 700%);\r\n    transform: translate(0, 700%);\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    -webkit-transform: translate(0, 1000%);\r\n    transform: translate(0, 1000%);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.rst__highlightLineVertical::after {\r\n  content: "";\r\n  position: absolute;\r\n  height: 0;\r\n  margin-left: -4px;\r\n  left: 50%;\r\n  top: 0;\r\n /* border-left: 4px solid transparent;\r\n  border-right: 4px solid transparent;\r\n  border-top: 4px solid white;*/\r\n  -webkit-animation: arrow-pulse 1s infinite linear both;\r\n  animation: arrow-pulse 1s infinite linear both;\r\n}\r\n\r\n/**\r\n * +-----+\r\n * |     |\r\n * |  +--+\r\n * |  |  |\r\n * +--+--+\r\n */\r\n\r\n.rst__highlightTopLeftCorner::before {\r\n  z-index: 3;\r\n  content: "";\r\n  position: absolute;\r\n /* border-top: solid 8px #36c2f6;\r\n  border-left: solid 8px #36c2f6;*/\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  height: calc(50% + 4px);\r\n  top: 50%;\r\n  margin-top: -4px;\r\n  right: 0;\r\n  width: calc(50% + 4px);\r\n}\r\n\r\n/**\r\n * +--+--+\r\n * |  |  |\r\n * |  |  |\r\n * |  +->|\r\n * +-----+\r\n */\r\n\r\n.rst__highlightBottomLeftCorner {\r\n  z-index: 3;\r\n}\r\n\r\n.rst__highlightBottomLeftCorner::before {\r\n  content: "";\r\n  position: absolute;\r\n /* border-bottom: solid 8px #36c2f6;\r\n  border-left: solid 8px #36c2f6;*/\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  height: calc(100% + 4px);\r\n  top: 0;\r\n  right: 12px;\r\n  width: calc(50% - 8px);\r\n}\r\n\r\n.rst__highlightBottomLeftCorner::after {\r\n  content: "";\r\n  position: absolute;\r\n  height: 0;\r\n  right: 0;\r\n  top: 100%;\r\n  margin-top: -12px;\r\n /* border-top: 12px solid transparent;*/\r\n  border-bottom: 12px solid transparent;\r\n/*  border-left: 12px solid #36c2f6;*/\r\n}\r\n\r\n.rst__rowWrapper {\r\n  /* padding: 10px 10px 10px 10px; */\r\n  height: 100%;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.rst__row {\r\n  height: 100%;\r\n  white-space: nowrap;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n}\r\n\r\n.rst__row > * {\r\n  -webkit-box-sizing: border-box;\r\n  background: none !important;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/**\r\n * The outline of where the element will go if dropped, displayed while dragging\r\n */\r\n\r\n.rst__rowLandingPad,\r\n.rst__rowCancelPad {\r\n  border: none !important;\r\n  background: none !important;\r\n  -webkit-box-shadow: none !important;\r\n  box-shadow: none !important;\r\n  outline: none !important;\r\n}\r\n\r\n.rst__rowLandingPad > *,\r\n.rst__rowCancelPad > * {\r\n  background: none !important;\r\n  opacity: 0 !important;\r\n}\r\n\r\n.rst__rowLandingPad::before,\r\n.rst__rowCancelPad::before {\r\n  background: none !important;\r\n  border-bottom: 1px solid white;\r\n  border-top: none;\r\n  border-left: none;\r\n  border-right: none;\r\n  content: "";\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: -1;\r\n}\r\n\r\n/**\r\n * Alternate appearance of the landing pad when the dragged location is invalid\r\n */\r\n\r\n.rst__rowCancelPad::before {\r\n\r\n}\r\n\r\n/**\r\n * Nodes matching the search conditions are highlighted\r\n */\r\n\r\n.rst__rowSearchMatch {\r\n/*  outline: solid 3px #0080ff;*/\r\n}\r\n\r\n/**\r\n * The node that matches the search conditions and is currently focused\r\n */\r\n\r\n.rst__rowSearchFocus {\r\n /* outline: solid 3px #fc6421;*/\r\n}\r\n\r\n.rst__rowContents,\r\n.rst__rowLabel,\r\n.rst__rowToolbar,\r\n.rst__moveHandle,\r\n.rst__toolbarButton {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n.rst__rowContents {\r\n  position: relative;\r\n  height: 100%;\r\n  width: 250px;\r\n  -webkit-box-flex: 1;\r\n  -ms-flex: 1 0 auto;\r\n  flex: 1 0 auto;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  -webkit-box-pack: justify;\r\n  -ms-flex-pack: justify;\r\n  justify-content: space-between;\r\n}\r\n\r\n.rst__rowContentsDragDisabled {\r\n /* border-left: solid #bbb 1px;*/\r\n}\r\n\r\n.rst__rowLabel {\r\n  -webkit-box-flex: 0;\r\n  -ms-flex: 0 1 auto;\r\n  flex: 0 1 auto;\r\n  padding-right: 20px;\r\n}\r\n\r\n.rst__rowToolbar {\r\n  -webkit-box-flex: 0;\r\n  -ms-flex: 0 1 auto;\r\n  flex: 0 1 auto;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n}\r\n\r\n.rst__moveHandle,\r\n.rst__loadingHandle {\r\n  /* height: 100%;\r\n  width: 44px;\r\n  background: #d9d9d9\r\n    url(\'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MiIgaGVpZ2h0PSI0MiI+PGcgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjIuOSIgPjxwYXRoIGQ9Ik0xNCAxNS43aDE0LjQiLz48cGF0aCBkPSJNMTQgMjEuNGgxNC40Ii8+PHBhdGggZD0iTTE0IDI3LjFoMTQuNCIvPjwvZz4KPC9zdmc+\')\r\n    no-repeat center;\r\n  border: solid #aaa 1px;\r\n  -webkit-box-shadow: 0 2px 2px -2px;\r\n          box-shadow: 0 2px 2px -2px; */\r\n  cursor: move;\r\n  /* border-radius: 1px; */\r\n  z-index: 1;\r\n}\r\n\r\n.rst__loadingHandle {\r\n  cursor: default;\r\n  background: #d9d9d9;\r\n}\r\n\r\n@-webkit-keyframes pointFade {\r\n  0%,\r\n  19.999%,\r\n  100% {\r\n    opacity: 0;\r\n  }\r\n  20% {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes pointFade {\r\n  0%,\r\n  19.999%,\r\n  100% {\r\n    opacity: 0;\r\n  }\r\n  20% {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.rst__loadingCircle {\r\n  width: 80%;\r\n  height: 80%;\r\n  margin: 10%;\r\n  position: relative;\r\n}\r\n\r\n.rst__loadingCirclePoint {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n.rst__loadingCirclePoint::before {\r\n  content: "";\r\n  display: block;\r\n  margin: 0 auto;\r\n  width: 11%;\r\n  height: 30%;\r\n  background-color: #fff;\r\n  border-radius: 30%;\r\n  -webkit-animation: pointFade 800ms infinite ease-in-out both;\r\n  animation: pointFade 800ms infinite ease-in-out both;\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(1) {\r\n  -webkit-transform: rotate(0deg);\r\n  transform: rotate(0deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(7) {\r\n  -webkit-transform: rotate(180deg);\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(1)::before,\r\n.rst__loadingCirclePoint:nth-of-type(7)::before {\r\n  -webkit-animation-delay: -800ms;\r\n  animation-delay: -800ms;\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(2) {\r\n  -webkit-transform: rotate(30deg);\r\n  transform: rotate(30deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(8) {\r\n  -webkit-transform: rotate(210deg);\r\n  transform: rotate(210deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(2)::before,\r\n.rst__loadingCirclePoint:nth-of-type(8)::before {\r\n  -webkit-animation-delay: -666ms;\r\n  animation-delay: -666ms;\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(3) {\r\n  -webkit-transform: rotate(60deg);\r\n  transform: rotate(60deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(9) {\r\n  -webkit-transform: rotate(240deg);\r\n  transform: rotate(240deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(3)::before,\r\n.rst__loadingCirclePoint:nth-of-type(9)::before {\r\n  -webkit-animation-delay: -533ms;\r\n  animation-delay: -533ms;\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(4) {\r\n  -webkit-transform: rotate(90deg);\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(10) {\r\n  -webkit-transform: rotate(270deg);\r\n  transform: rotate(270deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(4)::before,\r\n.rst__loadingCirclePoint:nth-of-type(10)::before {\r\n  -webkit-animation-delay: -400ms;\r\n  animation-delay: -400ms;\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(5) {\r\n  -webkit-transform: rotate(120deg);\r\n  transform: rotate(120deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(11) {\r\n  -webkit-transform: rotate(300deg);\r\n  transform: rotate(300deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(5)::before,\r\n.rst__loadingCirclePoint:nth-of-type(11)::before {\r\n  -webkit-animation-delay: -266ms;\r\n  animation-delay: -266ms;\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(6) {\r\n  -webkit-transform: rotate(150deg);\r\n  transform: rotate(150deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(12) {\r\n  -webkit-transform: rotate(330deg);\r\n  transform: rotate(330deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(6)::before,\r\n.rst__loadingCirclePoint:nth-of-type(12)::before {\r\n  -webkit-animation-delay: -133ms;\r\n  animation-delay: -133ms;\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(7) {\r\n  -webkit-transform: rotate(180deg);\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(13) {\r\n  -webkit-transform: rotate(360deg);\r\n  transform: rotate(360deg);\r\n}\r\n\r\n.rst__loadingCirclePoint:nth-of-type(7)::before,\r\n.rst__loadingCirclePoint:nth-of-type(13)::before {\r\n  -webkit-animation-delay: 0ms;\r\n  animation-delay: 0ms;\r\n}\r\n\r\n.rst__rowTitle {\r\n  font-weight: bold;\r\n  margin-bottom: auto;\r\n  margin-top: auto;\r\n}\r\n\r\n.rst__rowTitleWithSubtitle {\r\n  font-size: 85%;\r\n  display: block;\r\n  height: 0.8rem;\r\n}\r\n\r\n.rst__rowSubtitle {\r\n  font-size: 70%;\r\n  line-height: 1;\r\n}\r\n\r\n.rst__collapseButton,\r\n.rst__expandButton {\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  appearance: none;\r\n  border: none;\r\n  position: absolute;\r\n  border-radius: 100%;\r\n  /*-webkit-box-shadow: 0 0 0 1px #000;\r\n  box-shadow: 0 0 0 1px #000;*/\r\n  width: 16px;\r\n  height: 16px;\r\n  padding: 0;\r\n  top: 50%;\r\n  -webkit-transform: translate(-50%, -50%);\r\n  transform: translate(-50%, -50%);\r\n  cursor: pointer;\r\n}\r\n\r\n.rst__collapseButton:focus,\r\n.rst__expandButton:focus {\r\n  outline: none;\r\n /* -webkit-box-shadow: 0 0 0 1px #000, 0 0 1px 3px #83bef9;\r\n  box-shadow: 0 0 0 1px #000, 0 0 1px 3px #83bef9;*/\r\n}\r\n\r\n.rst__collapseButton:hover:not(:active),\r\n.rst__expandButton:hover:not(:active) {\r\n  background-size: 24px;\r\n  height: 20px;\r\n  width: 20px;\r\n}\r\n\r\n.rst__collapseButton {\r\n  background: #fff\r\n    url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiIGZpbGw9IiNGRkYiLz48ZyBzdHJva2U9IiM5ODk4OTgiIHN0cm9rZS13aWR0aD0iMS45IiA+PHBhdGggZD0iTTQuNSA5aDkiLz48L2c+Cjwvc3ZnPg==")\r\n    no-repeat center;\r\n}\r\n\r\n.rst__expandButton {\r\n  background: #fff\r\n    url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiIGZpbGw9IiNGRkYiLz48ZyBzdHJva2U9IiM5ODk4OTgiIHN0cm9rZS13aWR0aD0iMS45IiA+PHBhdGggZD0iTTQuNSA5aDkiLz48cGF0aCBkPSJNOSA0LjV2OSIvPjwvZz4KPC9zdmc+")\r\n    no-repeat center;\r\n}\r\n\r\n/**\r\n * Line for under a node with children\r\n */\r\n\r\n.rst__lineChildren {\r\n  height: 100%;\r\n  display: inline-block;\r\n  position: absolute;\r\n}\r\n\r\n.rst__lineChildren::after {\r\n  content: "";\r\n  position: absolute;\r\n  background-color: rgb(255, 255, 255);\r\n  width: 1px;\r\n  left: 50%;\r\n  bottom: 0;\r\n  height: 10px;\r\n}\r\n\r\n.rst__placeholder {\r\n  position: relative;\r\n  height: 68px;\r\n  max-width: 300px;\r\n  padding: 10px;\r\n}\r\n\r\n.rst__placeholder,\r\n.rst__placeholder > * {\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* .rst__placeholder::before {\r\n  border: 3px dashed #d9d9d9;\r\n  content: \'\';\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n  bottom: 5px;\r\n  left: 5px;\r\n  z-index: -1;\r\n} */\r\n\r\n/**\r\n * The outline of where the element will go if dropped, displayed while dragging\r\n */\r\n\r\n.rst__placeholderLandingPad,\r\n.rst__placeholderCancelPad {\r\n  border: none !important;\r\n  -webkit-box-shadow: none !important;\r\n  box-shadow: none !important;\r\n  outline: none !important;\r\n}\r\n\r\n.rst__placeholderLandingPad *,\r\n.rst__placeholderCancelPad * {\r\n  opacity: 0 !important;\r\n}\r\n\r\n.rst__placeholderLandingPad::before,\r\n.rst__placeholderCancelPad::before {\r\n\r\n  border-bottom: 1px solid white;\r\n\r\n\r\n}\r\n\r\n/**\r\n * Alternate appearance of the landing pad when the dragged location is invalid\r\n */\r\n\r\n.rst__placeholderCancelPad::before {\r\n\r\n}\r\n\r\n/**\r\n * Extra class applied to VirtualScroll through className prop\r\n */\r\n\r\n.rst__virtualScrollOverride {\r\n  overflow: auto !important;\r\n}\r\n\r\n.rst__virtualScrollOverride * {\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.ReactVirtualized__Grid__innerScrollContainer {\r\n  overflow: visible !important;\r\n}\r\n\r\n.ReactVirtualized__Grid {\r\n  outline: none;\r\n}\r\n\r\n/**\r\n* RST CUSTOM WIFEO\r\n*/\r\n\r\n.rst__dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.rst__dropdownContent {\r\n  display: none;\r\n  position: absolute;\r\n\r\n  min-width: 160px;\r\n/*  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);*/\r\n  z-index: 1;\r\n  right: 1px;\r\n}\r\n\r\n.rst__dropdownContent .rst__dropdownItem {\r\n  color: black;\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  display: block;\r\n}\r\n\r\n.rst__dropdownContent .rst__dropdownItem:hover {\r\n\r\n}\r\n\r\n/* .rst__dropdown:hover .rst__dropdownContent {\r\n            display: block;\r\n        } */\r\n\r\n.rst__dropdown.rst__dropdownOpen .rst__dropdownContent {\r\n  display: block;\r\n}\r\n\r\n.rst__Menu {\r\n  white-space: initial;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  position: relative;\r\n}\r\n\r\n.rst__MenuContent {\r\n  position: absolute;\r\n  width: 100%;\r\n  z-index: 10;\r\n}\r\n\r\n.rst__MenuContentBody {\r\n  padding: 0.5rem;\r\n\r\n}\r\n\r\n.rst__absoluteLineBlock:first-child:after,\r\n.rst__absoluteLineBlock:first-child:before,\r\n.rst__lineBlock:first-child:after,\r\n.MteeH .rst__lineBlock:first-child:before {\r\n  content: none;\r\n}\r\n\r\n.rst__absoluteLineBlock:first-child:after,\r\n.rst__absoluteLineBlock:first-child:before,\r\n.rst__lineBlock:first-child:after,\r\n.rst__lineBlock:first-child:before {\r\n  content: none;\r\n}\r\n\r\n.rst__absoluteLineBlock:first-child,\r\n.rst__absoluteLineBlock:first-child,\r\n.rst__lineBlock:first-child,\r\n.rst__lineBlock:first-child {\r\n  display: none;\r\n}\r\n\r\n.rst__nodeContent {\r\n  width: 100%;\r\n}\r\n\r\n.rst__moveHandle,\r\n.rst__toolbarButton {\r\n  vertical-align: initial;\r\n}\r\n\r\n/**\r\n* Css Correctif lorsqu\'on a une value custom pour scaffoldBlockPxWidth\r\n* scaffoldBlockPxWidth avec une valeur trop petit casse le css par default de highlightBottomLeftCorner\r\n*\r\n*/\r\n\r\n.rst__highlightBottomLeftCorner::before {\r\n  right: 4px;\r\n  width: calc(50% - 0px);\r\n}\r\n\r\n.rst__highlightBottomLeftCorner::after {\r\n  right: -8px;\r\n}\r\n\r\n/** End Correctif **/\r\n\r\n/**\r\n*\r\n*/\r\n\r\n.rst__rowContainer {\r\n  position: relative;\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  /* background: #fff; */\r\n  white-space: nowrap;\r\n  padding-right: 5px;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n}\r\n\r\n.rst__toolbar-name {\r\n  display: flex;\r\n  height: 100%;\r\n  width: 100%;\r\n  flex: 1 1 auto;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  text-indent: 6px;\r\n  color: #ffffff;\r\n}\r\n\r\n.rst__toolbar-item * {\r\n  padding-left: 0.5rem;\r\n  padding-right: 0.5rem;\r\n}\r\n\r\n.rst__toolbar-formEdit {\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  padding-left: 6px;\r\n}\r\n\r\n.rst__node {\r\n  display: flex;\r\n}\r\n\r\n.rst__node .rst__lineBlock {\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.rst__node .rst__nodeContent {\r\n  flex: 0 1 auto;\r\n  left: auto !important;\r\n  position: relative !important;\r\n  top: auto !important;\r\n  width: 100%;\r\n  /* border-bottom: 1px solid red; */\r\n}\r\n\r\n/* .rst__node  .rst__lineBlock.rst__lineFullVertical + .rst__lineBlock.rst__lineHalfHorizontalRight.rst__lineFullVertical + .rst__nodeContent {\r\nborder: none;\r\n} */\r\n\r\n/* .rst__lineBlock.rst__lineHalfVerticalTop.rst__lineHalfHorizontalRight{\r\n  border-bottom: 1px solid red;\r\n} */\r\n',""])},968:function(e,n,r){"use strict";r.r(n);var c=r(0),j=r.n(c),t=r(17),a=r.n(t),o=r(30),i=r.n(o),f=(r(662),r(494)),m=r(934),b=r(937),g=r(642);function B(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.filter(Boolean).join(" ")}var d=r(6),u=r(677);function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return l(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function T(e){var n=p(Object(c.useState)(!1),2),r=n[0],t=n[1],a=Object(c.useRef)(null),o=Object(c.useRef)(null),i=e.labelsMenu,l=e.nodeType,n=e.treeIndex,s=e.setLabelInEdit;return Object(c.useEffect)(function(){function e(e){o.current&&!o.current.contains(e.target)&&t(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[o]),j.a.createElement(j.a.Fragment,null," ",j.a.createElement("i",{"data-index-rst":n,role:"button",className:"we-btn-dnd we-btn-icon we-text-white fal fa-cog",ref:a,onClick:function(){return t(!r)}}),j.a.createElement(d.Overlay,{target:a.current,show:r,placement:"top"},j.a.createElement(d.Popover,{id:"popover-positioned-bottom",bsPrefix:"we-popover"},j.a.createElement(u.a,{ref:o,bsPrefix:"we-popover-body"},j.a.createElement("div",{className:"we-d-flex we-flex-column we-mx-1",style:{background:"none"},"data-index-rst":n},0<=["page","dropdown","link"].indexOf(l)&&j.a.createElement("div",{role:"button",className:" we-row we-my-2 we-align-items-center","data-index-rst":n,onClick:function(){s(),t(!1)}},j.a.createElement("i",{"data-index-rst":n,className:"fal fa-pencil we-col-1"}),j.a.createElement("div",{className:" we-col "},"Renommer")),i.map(function(e,n){return 0<=e.for.indexOf(l)&&e.node&&j.a.createElement("div",{key:n},e.node)}))))))}t=r(9);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R=["scaffoldBlockPxWidth","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","canDrop","canDrag","node","title","icon","subtitle","draggedNode","path","treeIndex","isSearchMatch","isSearchFocus","onAction","labelsMenu","className","style","didDrop","treeId","clickOnLabel","nameInEdit","formEdit","showBtnCollapse","currentPage","namePlanSite","maxLengthName","onNameChange","setLabelInEdit","isOver","parentNode","canEdit","onActionView","currentPageId"];function z(){return(z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r,t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function M(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return h(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function V(e,n){if(null==e)return{};var r,t=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],0<=n.indexOf(r)||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)r=a[o],0<=n.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r]);return t}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(a);(n="function"==typeof Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})):n).forEach(function(e){var n,r;n=t,e=a[r=e],r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e})}return t}function _(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function w(e,n){return(w=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function y(r){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,n=x(r);return e=t?(e=x(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),n=this,!(e=e)||"object"!==s(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):e}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i.a._debounce;var v=i.a._slugify,o=function(){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&w(e,n)}(a,c["Component"]);var e,n,r,t=y(a);function a(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),(e=t.call(this,e)).state={idVersion:null,openPanel:!1,nameToSet:""},e.refInputNameItem=j.a.createRef(),e}return e=a,(n=[{key:"getPlaceholder",value:function(e){switch(e){case"page":return"Page sans titre";case"dropdown":return"Menu sans titre";case"link":return"Lien sans titre"}}},{key:"onSubmitForm",value:function(e,n,r,t){e.preventDefault();var a=this.state.nameToSet;this.state.nameToSet.length>this.props.maxLengthName||("page"===(e=H({},n,""!==a?{title:a,nameInEdit:!1,inEdit:!1}:{nameInEdit:!1,inEdit:!1})).type&&(n=n.url,n=v(a),e.page.url=n,e.page.nom=a,e.page.slug=n.replace(/-/g,"_"),e.url=n),this.refInputNameItem.current.value=e.title,this.props.onNameChange(e,a))}},{key:"componentDidUpdate",value:function(e){e.node.title!==this.props.node.title&&this.setState({nameToSet:this.props.node.title})}},{key:"render",value:function(){var n=this,e=this.props,r=(e.scaffoldBlockPxWidth,e.toggleChildrenVisibility),t=e.connectDragPreview,a=e.connectDragSource,o=e.isDragging,i=e.canDrop,l=e.canDrag,s=e.node,c=e.title,d=e.icon,u=(e.subtitle,e.draggedNode),p=e.path,f=e.treeIndex,m=e.isSearchMatch,b=e.isSearchFocus,g=(e.onAction,e.labelsMenu),h=e.className,_=e.style,w=e.didDrop,y=(e.treeId,e.clickOnLabel),x=e.nameInEdit,v=(e.formEdit,e.showBtnCollapse),k=e.currentPage,N=(e.namePlanSite,e.maxLengthName),P=(e.onNameChange,e.setLabelInEdit),C=(e.isOver,e.parentNode,e.canEdit,e.onActionView,e.currentPageId),S=V(e,R),I=this.state,E=(I.idVersion,I.openPanel,d||null),e=c||s.title,O=x||s.nameInEdit,I=s.type||"";"collapse-rst-menu-".concat(f);if(s&&s.page&&s.page.archived)return null;s&&"page"===s.type&&(s.page.id===k||s.page.is_home);d=null,c=null;"page"===s.type&&(d=s.page.id),"dropdown"===s.type&&(c=s.children.filter(function(e){return"page"===e.type}).some(function(e){return e.page.id===C}));var D,x=d===C;l&&(D="function"==typeof s.children&&s.expanded?j.a.createElement("div",{className:"rst__loadingHandle"},j.a.createElement("div",{className:"rst__loadingCircle"},M(new Array(12)).map(function(e,n){return j.a.createElement("div",{key:n,className:"rst__loadingCirclePoint"})}))):a(j.a.createElement("i",{className:"rst__moveHandle we-btn-dnd we-text-white fal fa-arrows"}),{dropEffect:"copy"}));var k=u&&function n(e,r){return!!e.children&&"function"!=typeof e.children&&e.children.some(function(e){return e===r||n(e,r)})}(u,s),d=!w&&o,a=r&&s.children&&("dropdown"===s.type||"function"==typeof s.children)&&0<s.children.length&&j.a.createElement("i",{className:"we-btn-dnd we-btn-icon we-text-white "+(s.expanded?"fal fa-angle-up":"fal fa-angle-down"),role:"button","aria-label":s.expanded?"Collapse":"Expand",onClick:function(){return r({node:s,path:p,treeIndex:f})}}),u="function"==typeof e?e({node:s,path:p,treeIndex:f}):e,w=this.state.nameToSet.length>N,o="form_edit_".concat(s.id),L="#"+o,e="page"===I?{style:{cursor:"pointer"}}:{};return j.a.createElement("div",z({className:"we-py-4 we-my-1 ".concat(x||!s.expanded&&c?"we-bg-secondary":"")},H({},S,e)),j.a.createElement("div",{className:"rst__rowWrapper"},t(j.a.createElement("div",{className:B("rst__row",d&&"rst__rowLandingPad",d&&!i&&"rst__rowCancelPad",m&&"rst__rowSearchMatch",b&&"rst__rowSearchFocus",h),style:H({opacity:k?.5:1},_)},j.a.createElement("div",{className:B("rst__rowContents",!l&&"rst__rowContentsDragDisabled")},j.a.createElement("div",{className:B("rst__rowContainer")},j.a.createElement("div",{className:"rst__toolbar-name",onClick:function(){return y(O)}},j.a.createElement("span",{title:u,className:B("rst__rowTitlePage",s.subtitle&&"rst__rowTitleWithSubtitle"),style:{textOverflow:"ellipsis"}},E,!O&&u),O&&j.a.createElement("div",{className:"rst__toolbar-formEdit we-border-0"},j.a.createElement("form",{id:o,noValidate:!0,"data-toggle":"tooltip","data-placement":"bottom",title:"".concat(N," caractères maximum"),onSubmit:function(e){n.onSubmitForm(e,s)}},j.a.createElement("div",{"data-index-rst":f,className:"we-input-group we-border-0"},j.a.createElement("input",{ref:this.refInputNameItem,"data-index-rst":f,autoFocus:!0,type:"text",placeholder:this.getPlaceholder(s.type),style:{width:"80%"},className:"we-form-control we-border-0"+(w?" we-is-invalid":""),defaultValue:s.title,onChange:function(e){e=e.target.value;e.length>N?(window.$(L).tooltip("enable"),window.$(L).tooltip("show")):(window.$(L).tooltip("hide"),window.$(L).tooltip("disable")),n.setState({nameToSet:e})}}),j.a.createElement("button",{type:"submit",style:{borderRadius:"0 19px 19px 0"},className:"we-input-group-addon we-border-0 we-px-2 ".concat(x||!s.expanded&&c?"we-bg-dark":"we-bg-secondary"),"data-index-rst":f},j.a.createElement("i",{"data-index-rst":f,className:"we-btn-icon we-text-white fas fa-check we-text-success"})))))),v&&a&&j.a.createElement("div",{className:"rst__toolbar-item"},a),j.a.createElement("div",{className:"rst__toolbar-item"},D),j.a.createElement("div",{className:"rst__toolbar-item"},j.a.createElement(T,{labelsMenu:g,nodeType:I,treeIndex:f,setLabelInEdit:function(){return P()}}))))))))}}])&&_(e.prototype,n),r&&_(e,r),a}();o.defaultProps={isSearchMatch:!1,isSearchFocus:!1,canDrag:!1,toggleChildrenVisibility:null,labelsMenu:[],className:"",style:{},parentNode:null,draggedNode:null,canDrop:!1,title:null,subtitle:null,formEdit:null,nameInEdit:!1,showBtnCollapse:!1,currentPage:0,clickOnLabel:null,onAction:function(){}},o.propTypes={onAction:a.a.func.isRequired,node:a.a.shape({}).isRequired,title:a.a.oneOfType([a.a.func,a.a.node]),subtitle:a.a.oneOfType([a.a.func,a.a.node]),path:a.a.arrayOf(a.a.oneOfType([a.a.string,a.a.number])).isRequired,treeIndex:a.a.number.isRequired,treeId:a.a.string.isRequired,isSearchMatch:a.a.bool,isSearchFocus:a.a.bool,canDrag:a.a.bool,scaffoldBlockPxWidth:a.a.number.isRequired,toggleChildrenVisibility:a.a.func,labelsMenu:a.a.arrayOf(a.a.shape({for:a.a.arrayOf(a.a.string),node:a.a.node})),className:a.a.string,style:a.a.shape({}),nameInEdit:a.a.bool,showBtnCollapse:a.a.bool,currentPage:a.a.number,formEdit:a.a.node,clickOnLabel:a.a.func,connectDragPreview:a.a.func.isRequired,connectDragSource:a.a.func.isRequired,parentNode:a.a.shape({}),isDragging:a.a.bool.isRequired,didDrop:a.a.bool.isRequired,draggedNode:a.a.shape({}),isOver:a.a.bool.isRequired,canDrop:a.a.bool,canEdit:a.a.bool};var k=Object(t.connect)(function(e){return{currentPageId:e.pages.currentPageInEdit.id}},{})(o),o=r(8),N=r(302);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return S(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function I(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?Object(arguments[e]):{},t=Object.keys(r);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})):t).forEach(function(e){G(n,e,r[e])})}return n}function E(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function O(e,n){return(O=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function D(r){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,n=A(r);return e=t?(e=A(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),n=this,!(e=e)||"object"!==P(e)&&"function"!=typeof e?L(n):e}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var F=!!("ontouchstart"in window||navigator.maxTouchPoints),Z=i.a._debounce,i=(i.a._slugify,function(){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&O(e,n)}(a,c["Component"]);var e,n,r,t=D(a);function a(e){var o;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),G(L(o=t.call(this,e)),"update",Z(function(e){o.props.onAction(e)},100)),G(L(o),"updateItems",Z(function(e){e.clientHeight,e.scrollHeight,e.scrollTop;o.setState({inLoadingItems:!0},function(){o.props.onAction({action:"loadMenuItems"})})},100)),G(L(o),"setLabelInEdit",function(n,r,e,t){function a(e){return e.treeIndex}o.setState(function(e){return{treeData:Object(g.a)({treeData:e.treeData,path:t,getNodeKey:a,newNode:I({},n,{nameInEdit:!r})}),nameToSet:n.title}})}),G(L(o),"isDragging",!1),G(L(o),"onDragStateChanged",function(e){e.isDragging,e.draggedNode}),G(L(o),"getNodeKey",null),o.state={treeData:C(o.props.treeData)||[],nameToSet:"",icons:[{type:"home",iconCss:"fal fa-home"},{type:"404",iconCss:"fal fa-ban"},{type:"page",iconCss:"fal fa-file"},{type:"dropdown",iconCss:"fal fa-caret-square-down"},{type:"link",iconCss:"fal fa-external-link-alt"}],metaStore:[],inLoadingItems:!1},o}return e=a,(n=[{key:"componentDidMount",value:function(){this.setState({inLoadingItems:!1})}},{key:"componentWillReceiveProps",value:function(n){this.setState(function(e){return{treeData:C(n.treeData)}})}},{key:"showLoader",value:function(){var e=this;setTimeout(function(){e.setState({inLoadingItems:!1})},1e3)}},{key:"componentDidUpdate",value:function(e,n){n.treeData&&this.props.treeData&&(n.treeData.length,this.props.treeData.length)}},{key:"setStatePromise",value:function(n,r){return new Promise(function(e){n.setState(r,function(){e()})})}},{key:"onMoveNode",value:function(e){var n=e.treeData,r=e.node,t=e.nextParentNode,a=e.prevPath,o=e.prevTreeIndex,i=e.nextPath,e=e.nextTreeIndex,r=I({},r,{parent:t&&t.id||null});this.update({action:"onMoveNode",params:{node:r,treeData:n,nextParentNode:t,prevPath:a,prevTreeIndex:o,nextPath:i,nextTreeIndex:e}}),this.setState({inLoadingItems:!0},function(){})}},{key:"onChange",value:function(e){this.setState({treeData:e})}},{key:"onNameChange",value:function(n,e,r,t,a){var o=this,i=this.getParentNode(t);this.setState(function(e){return{treeData:Object(g.a)({treeData:e.treeData,path:t,getNodeKey:a,newNode:n})}},function(){""!==e&&o.update({action:"rename",params:{newNode:n,path:t,getNodeKey:a,node:r,parent:i,treeData:o.state.treeData}})})}},{key:"getParentNode",value:function(r){var e,n=null;return 1<r.length&&(e=r.filter(function(e,n){return n!==r.length-1}),(e=Object(g.c)({treeData:this.state.treeData,path:e,getNodeKey:function(e){return e.treeIndex},ignoreCollapsed:!0}))&&(n=e)),n}},{key:"toggleVisibilityItem",value:function(e,n,r){var t=this,a=this.getParentNode(n),o=I({},e,{visible:!e.visible});this.setState(function(e){return{treeData:Object(g.a)({treeData:e.treeData,path:n,getNodeKey:r,newNode:o})}},function(){t.update({action:"toggleVisibility",params:{newNode:o,path:n,getNodeKey:r,parent:a,treeData:t.state.treeData}})})}},{key:"toggleTargetItem",value:function(e,n,r,t){var a=this,o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],i=this.getParentNode(r),l=e?"_self":"_blank",s=I({},n,{target:l});o?this.setState(function(e){return{treeData:Object(g.a)({treeData:e.treeData,path:r,getNodeKey:t,newNode:I({},n,{target:l})})}},function(){a.update({action:"updateLink",params:{newNode:s,path:r,getNodeKey:t,parent:i,treeData:a.state.treeData}})}):this.update({action:"updateLink",params:{newNode:s,path:r,getNodeKey:t,parent:i,treeData:this.state.treeData}})}},{key:"updateStatusPage",value:function(t,e,n,a){var o,i,l=this;t.page.is_home||(Object(g.d)({treeData:this.state.treeData,getNodeKey:n,callback:function(e){var n=e.node,r=e.path,e=!1;if("page"===n.type&&("home"===a&&(!n.page.is_home&&n.id!==t.id||(n.page.is_home=n.id===t.id,n.page.is_home&&(o=n,i=l.getParentNode(r)),e=!0)),"error"===a&&(!n.page.is_error&&n.id!==t.id||(n.page.is_error=n.id===t.id&&!n.page.is_error,n.page.is_error&&(o=n,i=l.getParentNode(r)),e=!0)),e))return Object(g.a)({treeData:l.state.treeData,path:r,newNode:n,getNodeKey:function(e){return e.treeIndex},ignoreCollapsed:!1})},ignoreCollapsed:!1}),this.setState(function(e){return{treeData:e.treeData}},function(){l.update({action:"updateStatusPage",params:{newNode:o,status:a,parent:i,node:t,treeData:l.state.treeData}})}))}},{key:"onChangeLinkUrl",value:function(e,n,r,t){var a=this,o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],i=this.getParentNode(r),l=I({},n,{url:e});o?this.setState(function(e){return{treeData:Object(g.a)({treeData:e.treeData,path:r,getNodeKey:t,newNode:l})}},function(){a.update({action:"updateLink",params:{newNode:l,path:r,getNodeKey:t,parent:i,treeData:a.state.treeData}})}):this.update({action:"updateLink",params:{newNode:l,path:r,getNodeKey:t,parent:i,treeData:this.state.treeData}})}},{key:"duplicate",value:function(e,n,r,t){10!==n.length&&(I({},e,{id:n=String(Date.now())+String(Math.floor(9999*Math.random())+1)}),this.update({action:"duplicate",params:{node:e,id:n}}))}},{key:"initLabelsMenu",value:function(n,r,t,e){var a=this;return[{for:["page","dropdown"],node:j.a.createElement("div",{role:"button",className:" we-row we-my-2 we-align-items-center","data-index-rst":e,onClick:function(){a.toggleVisibilityItem(n,r,t)}},j.a.createElement("i",{"data-index-rst":e,className:" we-col-1 "+(n.visible?"fal fa-eye":"fal fa-eye-slash")}),j.a.createElement("div",{className:" we-col "},"Afficher dans le menu"))},{for:["link"],node:j.a.createElement(j.a.Fragment,null,j.a.createElement("div",{className:" we-row we-my-2 we-align-items-center",role:"button"},j.a.createElement("i",{"data-index-rst":e,className:"fal fa-link we-col-1 "}),j.a.createElement("div",{className:" we-col ",onClick:function(){a.props.wantUpdateMenuLinkAction({link:n.url,newOnglet:"_blank"===n.target,node:n,path:r,getNodeKey:t,callbackUpdateLink:function(e){a.onChangeLinkUrl(e,n,r,t,!1)},callbackToggleTarget:function(e){a.toggleTargetItem(e,n,r,t,!1)}})}},"Adresse du lien")))},{for:["link"],node:j.a.createElement("div",{role:"button",className:"we-row  we-my-2  we-row we-align-items-center","data-index-rst":e,onClick:function(){a.toggleTargetItem("_blank"===n.target,n,r,t)}},j.a.createElement("i",{className:"fal fa-window-restore we-col-1"}),j.a.createElement("div",{className:" we-col we-text-truncate",style:{textOverflow:"clip"}},"Ouvrir dans un nouvel onglet"),j.a.createElement("i",{style:{display:"table"},"data-index-rst":e,className:"we-col-1 ".concat("_blank"===n.target?"fal fa-check-square":"fal fa-square")}))},{for:["page","dropdown","link"],node:j.a.createElement("div",{role:"button",className:" we-row we-my-2 we-align-items-center","data-index-rst":e,onClick:function(){a.wantDelete(n)}},j.a.createElement("i",{"data-index-rst":e,className:"fal fa-trash-alt we-col-1"}),j.a.createElement("div",{className:" we-col "},"Supprimer"))},{for:["page"],node:j.a.createElement("div",{role:"button",className:" we-row we-my-2 we-align-items-center","data-index-rst":e,onClick:function(){a.updateStatusPage(n,r,t,"home")}},j.a.createElement("i",{"data-index-rst":e,className:"fal fa-home we-col-1"}),j.a.createElement("div",{className:" we-col "},"Page d'accueil"),j.a.createElement("i",{style:{display:"table"},"data-index-rst":e,className:"we-col-1 ".concat(n.page&&n.page.is_home?"fal fa-check-square":"fal fa-square")}))},{for:["page"],node:n.page&&n.page.is_home?null:j.a.createElement("div",{role:"button",className:"we-row we-my-2 we-align-items-center","data-index-rst":e,onClick:function(){a.updateStatusPage(n,r,t,"error")}},j.a.createElement("i",{className:"fal fa-ban we-col-1 ","data-index-rst":e}),j.a.createElement("div",{className:" we-col "},"Page d'erreur"),j.a.createElement("i",{style:{display:"table"},"data-index-rst":e,className:"we-col-1 ".concat(n.page&&n.page.is_error?"fal fa-check-square":"fal fa-square")}))}]}},{key:"wantDelete",value:function(e){return this.update({action:"wantDelete",params:{node:e}})}},{key:"clickOnLabel",value:function(e,n){e||(n={action:"clickLabel",params:{node:n,treeData:this.state.treeData}},this.props.canEdit?this.update(n):this.props.onActionView(n))}},{key:"getIcon",value:function(e){var n=e.type;"page"===e.type&&e.page&&(e.page.is_home?n="home":e.page.is_error&&(n="404"));e=this.state.icons.find(function(e){return e.type===n});return e&&j.a.createElement("i",{className:e.iconCss+" we-pe-2"})}},{key:"render",value:function(){function a(e){return e.treeIndex}var o=this,e=this.state,n=e.treeData,r=e.inLoadingItems;this.getNodeKey=a;var t=this.props,i=t.maxSubItems,l=t.showBtnCollapse,s=t.maxLengthName,c=t.currentPage,d=t.canEdit,u=t.cta,e=t.cssWrapper,p=(t.styleWrapper,t.namePlanSite),n=j.a.createElement(g.b,{reactVirtualizedListProps:{},treeData:n||[],onChange:function(e){return o.onChange(e)},onMoveNode:function(e){return o.onMoveNode(e)},onDragStateChanged:this.onDragStateChanged,canDrop:function(e){var n=e.node,r=e.nextParent;e.prevPath,e.nextPath;return(!r||"dropdown"===r.type)&&((!r||"dropdown"!==n.type||"dropdown"!==r.type)&&!(r&&r.children.length>i))},canDrag:!this.state.inLoadingItems,isVirtualized:!0,generateNodeProps:function(e){var r=e.node,t=e.path,e=e.treeIndex;return{maxLengthName:s,onAction:o.props.onAction,icon:o.getIcon(r),title:r.title,onNameChange:function(e,n){return o.onNameChange(e,n,r,t,a)},labelsMenu:o.initLabelsMenu(r,t,a,e),showBtnCollapse:l,currentPage:c,canEdit:d,cta:u,namePlanSite:p,clickOnLabel:function(e){o.clickOnLabel(e,r)},setLabelInEdit:function(){return o.setLabelInEdit(r,!1,null,t)}}},className:"rst__Container",scaffoldBlockPxWidth:20,nodeContentRenderer:k});return j.a.createElement("div",null,j.a.createElement(f.a,{backend:(F?b:m).a},j.a.createElement("div",{key:"0",style:{height:500},className:"editor__menu-sortable ".concat(e||""," ").concat(d?"":"we-border-0")},n),r&&j.a.createElement("div",{key:"1",className:"pos-abs we-d-flex we-h-100 we-w-100 we-justify-content-center we-align-items-center",style:{top:"0",background:"rgba(29, 29, 29, 0.5)"}},j.a.createElement("i",{className:"fas fa-spinner fa-pulse fa-2x"}))),j.a.createElement(N.a,null))}}])&&E(e.prototype,n),r&&E(e,r),a}());i.defaultProps={maxSubItems:5,showBtnCollapse:!0,maxLengthName:100,currentPage:0,stopLoadItems:!1,canEdit:!0,onChange:function(){}},i.propTypes={maxSubItems:a.a.number,maxLengthName:a.a.number,showBtnCollapse:a.a.bool,currentPage:a.a.number,stopLoadItems:a.a.bool,canEdit:a.a.bool};i=Object(t.connect)(function(e){return{currentPageId:e.pages.currentPageInEdit.id}},{wantUpdateMenuLinkAction:o.H})(i);n.default=i}}]);